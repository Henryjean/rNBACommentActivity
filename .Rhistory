annotate(geom = 'text', x = ("2019-02-06"), y = 1000, label = "2019 Trade Deadline",family = "Gill Sans MT", size = 5, fontface = 'bold', hjust = 0)
ggsave("MostComments.png", width = 6, height = 6)
#Load footer
footy <- image_read("ShortFooter.png")
#Recall saved graf
graf <- image_read("MostComments.png")
#Combine graf with footer
img <- c(graf, footy)
image_composite(graf, footy, offset = "+0+1750") %>% image_write("MostComments.png")
df %>% top_n(10, doc_count) %>%
ggplot(aes(x = reorder(as.factor(date), doc_count), y = doc_count)) +
geom_bar(stat = 'identity',  fill = "floralwhite", color = 'black') +
theme_owen() +
coord_flip() +
labs(x = "",
y = "Total Comments Made",
title = "Top 10 Most Active Days in r/nba History",
subtitle = "Activity measured by total comments made") +
theme(plot.title = element_text(face = 'bold', hjust = .5, size = 15),
plot.subtitle = element_text(hjust = .5)) +
scale_y_continuous(labels = comma, breaks = seq(0, 175000, 25000)) +
theme(plot.margin = unit(c(1, 1, 1, 1), "lines")) +
annotate(geom = 'text', x = ("2019-06-13"), y = 1000, label = "2019 NBA Finals Game 6 ", family = "Gill Sans MT", size = 5, fontface = 'bold', hjust = 0) +
annotate(geom = 'text', x = ("2019-06-10"), y = 1000, label = "2019 NBA Finals Game 5 / Shit-Gate", family = "Gill Sans MT", size = 5, fontface = 'bold', hjust = 0) +
annotate(geom = 'text', x = ("2019-06-30"), y = 1000, label = "2019 Free Agency Begins", family = "Gill Sans MT", size = 5, fontface = 'bold', hjust = 0) +
annotate(geom = 'text', x = ("2019-07-05"), y = 1000, label = "Kawhi and PG to the Clippers", family = "Gill Sans MT", size = 5, fontface = 'bold', hjust = 0) +
annotate(geom = 'text', x = ("2018-05-31"), y = 1000, label = "2018 NBA Finals Game 1", family = "Gill Sans MT", size = 5, fontface = 'bold', hjust = 0) +
annotate(geom = 'text', x = ("2018-07-01"), y = 1000, label = "2018 Free Agency Begins", family = "Gill Sans MT", size = 5, fontface = 'bold', hjust = 0) +
annotate(geom = 'text', x = ("2017-06-12"), y = 1000, label = "2017 NBA Finals Game 5", family =  "Gill Sans MT", size = 5, fontface = 'bold', hjust = 0) +
annotate(geom = 'text', x = ("2018-05-28"), y = 1000, label = "2018 WCF Game 7", family = "Gill Sans MT", size = 5, fontface = 'bold', hjust = 0) +
annotate(geom = 'text', x = ("2018-07-02"), y = 1000, label = "LeBron Signs With the Lakers", family = "Gill Sans MT", size = 5, fontface = 'bold', hjust = 0) +
annotate(geom = 'text', x = ("2019-02-06"), y = 1000, label = "2019 Trade Deadline",family = "Gill Sans MT", size = 5, fontface = 'bold', hjust = 0)
ggsave("MostComments.png", width = 6, height = 6)
#Load footer
footy <- image_read("ShortFooter.png")
#Recall saved graf
graf <- image_read("MostComments.png")
#Combine graf with footer
img <- c(graf, footy)
image_composite(graf, footy, offset = "+0+1750") %>% image_write("MostComments.png")
df %>% top_n(25, doc_count) %>%
ggplot(aes(x = reorder(as.factor(date), doc_count), y = doc_count)) +
geom_bar(stat = 'identity',  fill = "floralwhite", color = 'black') +
theme_owen() +
coord_flip() +
labs(x = "",
y = "Total Comments Made",
title = "Top 25 Most Active Days in r/nba History",
subtitle = "Activity measured by total comments made") +
theme(plot.title = element_text(face = 'bold', hjust = .5, size = 15),
plot.subtitle = element_text(hjust = .5)) +
scale_y_continuous(labels = comma, breaks = seq(0, 175000, 25000))
ggsave("MostComments25.png", width = 6, height = 6)
#Load footer
footy <- image_read("ShortFooter.png")
#Recall saved graf
graf <- image_read("MostComments25.png")
#Combine graf with footer
img <- c(graf, footy)
image_composite(graf, footy, offset = "+0+1750") %>% image_write("MostComments25.png")
df %>% top_n(25, doc_count) %>%
ggplot(aes(x = reorder(as.factor(date), doc_count), y = doc_count)) +
geom_bar(stat = 'identity') +
theme_owen() +
coord_flip() +
labs(x = "",
y = "Total Comments Made",
title = "Top 25 Most Active Days in r/nba History",
subtitle = "Activity measured by total comments made") +
theme(plot.title = element_text(face = 'bold', hjust = .5, size = 15),
plot.subtitle = element_text(hjust = .5)) +
scale_y_continuous(labels = comma, breaks = seq(0, 175000, 25000)) +
theme(plot.margin = unit(c(1, 1, 1, 1), "lines"))
ggsave("MostComments25.png", width = 6, height = 6)
#Load footer
footy <- image_read("ShortFooter.png")
#Recall saved graf
graf <- image_read("MostComments25.png")
#Combine graf with footer
img <- c(graf, footy)
image_composite(graf, footy, offset = "+0+1750") %>% image_write("MostComments25.png")
format(as.POSIXct("15642", origin = "1970-01-01", tz = "America/New_York", usetz=TRUE))
format(as.POSIXct(15642, origin = "1970-01-01", tz = "America/New_York", usetz=TRUE))
format(as.POSIXct(15642, tz = "America/New_York", usetz=TRUE))
format(as.POSIXct(15642, origin = "1970-01-01", tz="UTC", usetz=TRUE))
format(as.POSIXct(15642, origin = "2013-01-01", tz="UTC", usetz=TRUE))
format(as.POSIXct(1564200000, origin = "1970-01-01", tz = "America/New_York", usetz=TRUE))
format(as.POSIXct(1564200000, origin = "1970-01-01", tz = "America/New_York", usetz=TRUE))
format(as.POSIXct(156420000, origin = "1970-01-01", tz = "America/New_York", usetz=TRUE))
format(as.POSIXct(18087, origin = "1970-01-01", tz = "America/New_York", usetz=TRUE))
as.Date(18087)
as.Date(18087, origin = "1970-01-01")
subs <- read.csv("SubData.csv")
library(readxl)
SubData <- read_excel("SubData.xlsx")
View(SubData)
SubData$Date <- as.Date(SubData$Date, origin = "1970-01-01")
View(SubData)
SubData$Count <- gsub("count:", "", SubData$Count)
View(SubData)
SubData$Count <- gsub("}", "", SubData$Count)
View(SubData)
class(SubData$Count)
SubData$Count <- as.numeric(SubData$Count)
test <- left_join(df, SubData)
test <- left_join(df, SubData, by = c("date", "Date"))
class(df$date)
class(SubData$Date)
test <- left_join(df, SubData, by = c("date" = "Date"))
View(test)
test <- filter(Date >= "2012-10-29")
test <- test %>% filter(Date >= "2012-10-29")
test <- test %>% filter(date >= "2012-10-29")
View(test)
test$per <- test$doc_count/test$Count
View(test)
test %>% top_n(25, per) %>%
ggplot(aes(x = reorder(as.factor(date), per), y = per)) +
geom_bar(stat = 'identity') +
theme_owen() +
coord_flip() +
labs(x = "",
y = "Comments Per Subscriber",
title = "Top 25 Most Active Days in r/nba History",
subtitle = "Activity measured by total comments made per subscriber") +
theme(plot.title = element_text(face = 'bold', hjust = .5, size = 15),
plot.subtitle = element_text(hjust = .5)) +
theme(plot.margin = unit(c(1, 1, 1, 1), "lines"))
library(readxl)
SubData <- read_excel("SubData.xlsx")
SubData$Date <- as.Date(SubData$Date, origin = "1970-01-01")
View(SubData)
SubData <- read_excel("SubData.xlsx")
SubData$Date <- as.Date(SubData$Date, origin = "1970-01-01")
View(SubData)
SubData <- read_excel("SubData.xlsx")
SubData$Date <- as.Date(SubData$Date, origin = "1970-01-02")
SubData$Count <- gsub("count:", "", SubData$Count)
SubData$Count <- gsub("}", "", SubData$Count)
SubData$Count <- as.numeric(SubData$Count)
View(SubData)
test <- left_join(df, SubData, by = c("date" = "Date"))
test <- test %>% filter(date >= "2012-10-30")
test$per <- test$doc_count/test$Count
test %>% top_n(25, per) %>%
ggplot(aes(x = reorder(as.factor(date), per), y = per)) +
geom_bar(stat = 'identity') +
theme_owen() +
coord_flip() +
labs(x = "",
y = "Comments Per Subscriber",
title = "Top 25 Most Active Days in r/nba History",
subtitle = "Activity measured by total comments made per subscriber") +
theme(plot.title = element_text(face = 'bold', hjust = .5, size = 15),
plot.subtitle = element_text(hjust = .5)) +
theme(plot.margin = unit(c(1, 1, 1, 1), "lines"))
SubData <- read_excel("SubData.xlsx")
SubData$Date <- as.Date(SubData$Date, origin = "1970-01-01")
SubData$Count <- gsub("count:", "", SubData$Count)
SubData$Count <- gsub("}", "", SubData$Count)
SubData$Count <- as.numeric(SubData$Count)
test <- left_join(df, SubData, by = c("date" = "Date"))
test <- test %>% filter(date >= "2012-10-30")
test$per <- test$doc_count/test$Count
test %>% top_n(25, per) %>%
ggplot(aes(x = reorder(as.factor(date), per), y = per)) +
geom_bar(stat = 'identity') +
theme_owen() +
coord_flip() +
labs(x = "",
y = "Comments Per Subscriber",
title = "Top 25 Most Active Days in r/nba History",
subtitle = "Activity measured by total comments made per subscriber") +
theme(plot.title = element_text(face = 'bold', hjust = .5, size = 15),
plot.subtitle = element_text(hjust = .5)) +
theme(plot.margin = unit(c(1, 1, 1, 1), "lines"))
library(readxl)
SubData <- read_excel("SubData.xlsx")
SubData$Date <- as.Date(SubData$Date, origin = "1970-01-01")
SubData$Date <- as.Date(SubData$Date) - 1
SubData$Count <- gsub("count:", "", SubData$Count)
SubData$Count <- gsub("}", "", SubData$Count)
SubData$Count <- as.numeric(SubData$Count)
test <- left_join(df, SubData, by = c("date" = "Date"))
test <- test %>% filter(date >= "2012-10-30")
test$per <- test$doc_count/test$Count
test %>% top_n(25, per) %>%
ggplot(aes(x = reorder(as.factor(date), per), y = per)) +
geom_bar(stat = 'identity') +
theme_owen() +
coord_flip() +
labs(x = "",
y = "Comments Per Subscriber",
title = "Top 25 Most Active Days in r/nba History",
subtitle = "Activity measured by total comments made per subscriber") +
theme(plot.title = element_text(face = 'bold', hjust = .5, size = 15),
plot.subtitle = element_text(hjust = .5)) +
theme(plot.margin = unit(c(1, 1, 1, 1), "lines"))
SubData <- read_excel("SubData.xlsx")
SubData$Date <- as.Date(SubData$Date, origin = "1970-01-01")
SubData$Count <- gsub("count:", "", SubData$Count)
SubData$Count <- gsub("}", "", SubData$Count)
SubData$Count <- as.numeric(SubData$Count)
test <- left_join(df, SubData, by = c("date" = "Date"))
test <- test %>% filter(date >= "2012-10-30")
test$per <- test$doc_count/test$Count
test %>% top_n(25, per) %>%
ggplot(aes(x = reorder(as.factor(date), per), y = per)) +
geom_bar(stat = 'identity') +
theme_owen() +
coord_flip() +
labs(x = "",
y = "Comments Per Subscriber",
title = "Top 25 Most Active Days in r/nba History",
subtitle = "Activity measured by total comments made per subscriber") +
theme(plot.title = element_text(face = 'bold', hjust = .5, size = 15),
plot.subtitle = element_text(hjust = .5)) +
theme(plot.margin = unit(c(1, 1, 1, 1), "lines"))
ggsave("MostComments25.png", width = 6, height = 6)
footy <- image_read("ShortFooter.png")
graf <- image_read("MostComments25.png")
#Combine graf with footer
img <- c(graf, footy)
image_composite(graf, footy, offset = "+0+1750") %>% image_write("MostComments25.png")
View(df)
test$date <- test$date - 1
test %>% top_n(25, per) %>%
ggplot(aes(x = reorder(as.factor(date), per), y = per)) +
geom_bar(stat = 'identity') +
theme_owen() +
coord_flip() +
labs(x = "",
y = "Comments Per Subscriber",
title = "Top 25 Most Active Days in r/nba History",
subtitle = "Activity measured by total comments made per subscriber") +
theme(plot.title = element_text(face = 'bold', hjust = .5, size = 15),
plot.subtitle = element_text(hjust = .5)) +
theme(plot.margin = unit(c(1, 1, 1, 1), "lines"))
ggsave("MostComments25.png", width = 6, height = 6)
footy <- image_read("ShortFooter.png")
#Recall saved graf
graf <- image_read("MostComments25.png")
#Combine graf with footer
img <- c(graf, footy)
image_composite(graf, footy, offset = "+0+1750") %>% image_write("MostComments25.png")
test <- left_join(df, SubData, by = c("date" = "Date"))
test <- test %>% filter(date >= "2012-10-30")
test$per <- test$doc_count/test$Count
test$date <- test$date + 1
test %>% top_n(25, per) %>%
ggplot(aes(x = reorder(as.factor(date), per), y = per)) +
geom_bar(stat = 'identity') +
theme_owen() +
coord_flip() +
labs(x = "",
y = "Comments Per Subscriber",
title = "Top 25 Most Active Days in r/nba History",
subtitle = "Activity measured by total comments made per subscriber") +
theme(plot.title = element_text(face = 'bold', hjust = .5, size = 15),
plot.subtitle = element_text(hjust = .5)) +
theme(plot.margin = unit(c(1, 1, 1, 1), "lines"))
ggsave("MostComments25.png", width = 6, height = 6)
footy <- image_read("ShortFooter.png")
#Recall saved graf
graf <- image_read("MostComments25.png")
#Combine graf with footer
img <- c(graf, footy)
image_composite(graf, footy, offset = "+0+1750") %>% image_write("MostComments25.png")
SubData <- read_excel("SubData.xlsx")
SubData$Date <- as.Date(SubData$Date, origin = "1970-01-01")
SubData$Count <- gsub("count:", "", SubData$Count)
SubData$Count <- gsub("}", "", SubData$Count)
SubData$Count <- as.numeric(SubData$Count)
test <- left_join(df, SubData, by = c("date" = "Date"))
test <- test %>% filter(date >= "2012-10-30")
test$per <- test$doc_count/test$Count
test %>% top_n(25, per) %>%
ggplot(aes(x = reorder(as.factor(date), per), y = per)) +
geom_bar(stat = 'identity') +
theme_owen() +
coord_flip() +
labs(x = "",
y = "Comments Per Subscriber",
title = "Top 25 Most Active Days in r/nba History",
subtitle = "Activity measured by total comments made per subscriber") +
theme(plot.title = element_text(face = 'bold', hjust = .5, size = 15),
plot.subtitle = element_text(hjust = .5)) +
theme(plot.margin = unit(c(1, 1, 1, 1), "lines"))
ggsave("MostComments25.png", width = 6, height = 6)
footy <- image_read("ShortFooter.png")
#Recall saved graf
graf <- image_read("MostComments25.png")
#Combine graf with footer
img <- c(graf, footy)
image_composite(graf, footy, offset = "+0+1750") %>% image_write("MostComments25.png")
test %>%
ggplot(aes(x = date, y = per)) +
geom_bar(stat = 'identity') +
theme_owen()
test %>%
ggplot(aes(x = date, y = per)) +
geom_bar(stat = 'identity') +
theme_owen()  +
labs(x = "",
y = "Comments Per Subscriber",
title = "2012 - 2019",
subtitle = "") +
theme(plot.title = element_text(face = 'bold', hjust = .5, size = 15),
plot.subtitle = element_text(hjust = .5)) +
theme(plot.margin = unit(c(1, 1, 1, 1), "lines"))
test %>%
ggplot(aes(x = date, y = per)) +
geom_bar(stat = 'identity') +
theme_owen()  +
labs(x = "",
y = "Comments Per Subscriber",
title = "2012 - 2019",
subtitle = "") +
theme(plot.title = element_text(face = 'bold', hjust = .5, size = 15),
plot.subtitle = element_text(hjust = .5)) +
theme(plot.margin = unit(c(1, 1, 1, 1), "lines")) +
scale_y_continuous(limits = c(0, .3))
test %>%
ggplot(aes(x = date, y = per)) +
geom_bar(stat = 'identity') +
theme_owen()  +
labs(x = "",
y = "Comments Per Subscriber",
title = "2012 - 2019",
subtitle = "") +
theme(plot.title = element_text(face = 'bold', hjust = .5, size = 15),
plot.subtitle = element_text(hjust = .5)) +
theme(plot.margin = unit(c(1, 1, 1, 1), "lines")) +
scale_y_continuous(limits = c(0, .4))
test %>%
ggplot(aes(x = date, y = per)) +
geom_bar(stat = 'identity') +
theme_owen()  +
labs(x = "",
y = "Comments Per Subscriber",
title = "2012 - 2019",
subtitle = "") +
theme(plot.title = element_text(face = 'bold', hjust = .5, size = 15),
plot.subtitle = element_text(hjust = .5)) +
theme(plot.margin = unit(c(1, 1, 1, 1), "lines"))
test %>%
ggplot(aes(x = date, y = per)) +
geom_bar(stat = 'identity') +
theme_owen()  +
labs(x = "",
y = "Comments Per Subscriber",
title = "Comments Per Subscriber",
subtitle = "2012 - 2019") +
theme(plot.title = element_text(face = 'bold', hjust = .5, size = 15),
plot.subtitle = element_text(hjust = .5)) +
theme(plot.margin = unit(c(1, 1, 1, 1), "lines"))
test %>%
ggplot(aes(x = date, y = per)) +
geom_bar(stat = 'identity') +
theme_owen()  +
labs(x = "",
y = "Comments Per Subscriber",
title = "Comments Per Subscriber",
subtitle = "2012 - 2019") +
theme(plot.title = element_text(face = 'bold', hjust = .5, size = 15),
plot.subtitle = element_text(hjust = .5)) +
theme(plot.margin = unit(c(1, 1, 1, 1), "lines"))
SubData <- read_excel("SubData.xlsx")
SubData$Date <- as.Date(SubData$Date, origin = "1970-01-01")
SubData$Count <- gsub("count:", "", SubData$Count)
SubData$Count <- gsub("}", "", SubData$Count)
SubData$Count <- as.numeric(SubData$Count)
test <- left_join(df, SubData, by = c("date" = "Date"))
test <- test %>% filter(date >= "2012-10-30")
test$per <- test$doc_count/test$Count
test %>%
ggplot(aes(x = date, y = per)) +
geom_bar(stat = 'identity') +
theme_owen()  +
labs(x = "",
y = "Comments Per Subscriber",
title = "Comments Per Subscriber",
subtitle = "2012 - 2019") +
theme(plot.title = element_text(face = 'bold', hjust = .5, size = 15),
plot.subtitle = element_text(hjust = .5)) +
theme(plot.margin = unit(c(1, 1, 1, 1), "lines"))
test %>%
ggplot(aes(x = date, y = per)) +
geom_bar(stat = 'identity') +
theme_owen()  +
labs(x = "",
y = "Comments Per Subscriber",
title = "Comments Per Subscriber",
subtitle = "2012 - 2019") +
theme(plot.title = element_text(face = 'bold', hjust = .5, size = 15),
plot.subtitle = element_text(hjust = .5)) +
theme(plot.margin = unit(c(1, 1, 1, 1), "lines")) +
scale_y_continuous(limits = c(0, .3))
class(test$per)
class(test$date)
ggsave("commentspersub.png", width = 6, height = 6)
#Get r/nba Daily Comment Activity From Pushshift API
url <- "http://api.pushshift.io/reddit/submission/search/?subreddit=nba&aggs=created_utc&frequency=day&after=365&size=0"
json_data <- fromJSON(paste(readLines(url), collapse=""))
s <- as.data.frame(json_data[["aggs"]][["created_utc"]])
#Reformat date
s$created_utc <- as.numeric(as.character(s$key))
s$date <- format(as.POSIXct(s$created_utc, origin = "1970-01-01", tz = "America/New_York", usetz=TRUE))
s$date <- ymd(as.Date(s$date))
View(s)
s$rollmean <- rollmean(s$doc_count, k = 90)
library(zoo)
s$rollmean <- rollmean(s$doc_count, k = 90)
View(s)
s$rollmean <- rollmean(s$doc_count, k = 90, fill = NA)
View(s)
s$rollmean <- rollmean(s$doc_count, k = 90, fill = NA, align = 'left')
View(s)
s$rollmean <- rollmean(s$doc_count, k = 90, fill = NA, align = 'right')
View(s)
s <- s %>% select(date, rollmean)
test <- left_join(df, s)
View(test)
test$per <- test$doc_count/test$rollmean
test %>% filter(date >= "2012-01-01") %>%
ggplot(aes(x = date, y = per)) +
geom_bar(stat = 'identity')
View(test)
test %>% filter(date >= "2012-01-01") %>% View()
s <- as.data.frame(json_data[["aggs"]][["created_utc"]])
s$created_utc <- as.numeric(as.character(s$key))
s$date <- format(as.POSIXct(s$created_utc, origin = "1970-01-01", tz = "America/New_York", usetz=TRUE))
s$date <- ymd(as.Date(s$date))
s$rollmean <- rollmean(s$doc_count, k = 30, fill = NA, align = 'right')
s <- s %>% select(date, rollmean)
test <- left_join(df, s)
test$per <- test$doc_count/test$rollmean
test %>% filter(date >= "2012-01-01") %>% View()
url <- "http://api.pushshift.io/reddit/submission/search/?subreddit=nba&aggs=created_utc&frequency=day&after=365&size=0"
json_data <- fromJSON(paste(readLines(url), collapse=""))
s <- as.data.frame(json_data[["aggs"]][["created_utc"]])
#Reformat date
s$created_utc <- as.numeric(as.character(s$key))
s$date <- format(as.POSIXct(s$created_utc, origin = "1970-01-01", tz = "America/New_York", usetz=TRUE))
s$date <- ymd(as.Date(s$date))
s$rollmean <- rollmean(s$doc_count, k = 45, fill = NA, align = 'right')
s <- s %>% select(date, rollmean)
test <- left_join(df, s)
test$per <- test$doc_count/test$rollmean
test %>% filter(date >= "2012-01-01") %>% View()
df$rollmean <- rollmean(df$doc_count, k = 90, fill = NA, align = 'right')
df$per <- df$doc_count/df$rollmean
df %>% filter(date >= "2012-01-01") %>% View()
df$rollmean <- rollmean(df$doc_count, k = 30, fill = NA, align = 'right')
df$per <- df$doc_count/df$rollmean
df %>% filter(date >= "2012-01-01") %>% View()
df$rollmean <- rollmean(df$doc_count, k = 30, fill = NA, align = 'center')
df$per <- df$doc_count/df$rollmean
df %>% filter(date >= "2012-01-01") %>% View()
df$rollmean <- rollmean(df$doc_count, k = 90, fill = NA, align = 'center')
df$per <- df$doc_count/df$rollmean
df %>% filter(date >= "2012-01-01") %>% View()
df$rollmean <- rollmean(df$doc_count, k = 30 fill = NA, align = 'center')
df$rollmean <- rollmean(df$doc_count, k = 30, fill = NA, align = 'center')
df$per <- df$doc_count/df$rollmean
df %>% filter(date >= "2012-01-01") %>% View()
df$rollmean <- rollmean(df$doc_count, k = 90, fill = NA, align = 'center')
df$per <- df$doc_count/df$rollmean
df %>% filter(date >= "2012-01-01") %>% View()
df %>% filter(date >= "2011-01-01") %>%
ggplot(aes(x = date, y = per)) +
geom_bar(stat = 'identity') +
theme_owen()
df %>% filter(date >= "2011-01-01") %>%
ggplot(aes(x = date, y = rollmean)) +
geom_bar(stat = 'identity') +
theme_owen()
df$rollmean <- rollmean(df$doc_count, k = 30, fill = NA, align = 'center')
df$per <- df$doc_count/df$rollmean
df %>% filter(date >= "2011-01-01") %>%
ggplot(aes(x = date, y = rollmean)) +
geom_bar(stat = 'identity') +
theme_owen()
df$rollmean <- rollmean(df$doc_count, k = 60, fill = NA, align = 'center')
df$per <- df$doc_count/df$rollmean
df %>% filter(date >= "2011-01-01") %>%
ggplot(aes(x = date, y = rollmean)) +
geom_bar(stat = 'identity') +
theme_owen()
df %>% filter(date >= "2011-01-01") %>% View()
df %>% filter(date >= "2012-01-01") %>% View()
df$rollmean <- rollmean(df$doc_count, k = 365, fill = NA, align = 'center')
df$per <- df$doc_count/df$rollmean
df %>% filter(date >= "2012-01-01") %>% View()
df$rollmean <- rollmean(df$doc_count, k = 365, fill = NA)
df$per <- df$doc_count/df$rollmean
df %>% filter(date >= "2012-01-01") %>% View()
df$rollmean <- rollmean(df$doc_count, k = 365, fill = NA, alight = 'right')
df$per <- df$doc_count/df$rollmean
df %>% filter(date >= "2012-01-01") %>% View()
df$rollmean <- rollmean(df$doc_count, k = 365, fill = NA, alight = 'left')
df$per <- df$doc_count/df$rollmean
df %>% filter(date >= "2012-01-01") %>% View()
df$rollmean <- rollmean(df$doc_count, k = 365, fill = NA, alight = 'right')
View(df)
df$rollmean <- rollmean(df$doc_count, k = 365, fill = NA, align = 'right')
View(df)
df$per <- df$doc_count/df$rollmean
df %>% filter(date >= "2012-01-01") %>% View()
df$rollmean <- rollmean(df$doc_count, k = 365, fill = NA, align = 'center')
df$per <- df$doc_count/df$rollmean
df %>% filter(date >= "2012-01-01") %>% View()
